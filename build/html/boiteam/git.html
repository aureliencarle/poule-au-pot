<!DOCTYPE html>
<html class="writer-html5" lang="fr" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Quelques petites commandes prêtes à l’emploi &mdash; Documentation Poule-au-Pot 1.0</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/translations.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="next" title="Containers and Virtual Machine" href="../schema/containers.html" />
    <link rel="prev" title="Créer un serveur NGINX sur Raspberry pi" href="../raspberry/nginx_server.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../index.html" class="icon icon-home"> Poule-au-Pot
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Rechercher docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">RASPBERRY PI:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../raspberry/tor_server.html">Deployer un site .onion sur Raspberry pi</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../raspberry/tor_server.html#les-prerequis">Les prérequis</a></li>
<li class="toctree-l2"><a class="reference internal" href="../raspberry/tor_server.html#creation-du-site-web">Création du site web</a></li>
<li class="toctree-l2"><a class="reference internal" href="../raspberry/tor_server.html#creation-du-serveur-avec-python">Création du serveur avec Python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../raspberry/tor_server.html#choix-1-appeler-le-module-python-en-ligne-de-commande">Choix 1 : Appeler le module python en ligne de commande</a></li>
<li class="toctree-l3"><a class="reference internal" href="../raspberry/tor_server.html#choix-2-ecrire-un-script-python-un-poil-plus-complexe-si-on-debut-en-python">Choix 2 : Ecrire un script python (un poil plus complexe si on début en python)</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../raspberry/tor_server.html#configuration-de-tor">Configuration de Tor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../raspberry/tor_server.html#acces-depuis-l-exterieur">Accès depuis l’exterieur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../raspberry/tor_server.html#lancons-le-serveur">Lançons le serveur</a></li>
<li class="toctree-l2"><a class="reference internal" href="../raspberry/tor_server.html#on-va-tester-pour-etre-sur-du-coup-les-quebecois-ont-compris-en-une-phrase-que-je-suis-francais">On va tester pour être sûr du coup … (les québecois ont compris en une phrase que je suis français)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../raspberry/nginx_server.html">Créer un serveur NGINX sur Raspberry pi</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">BOITE À MIRACLES:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Quelques petites commandes prêtes à l’emploi</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#deplacer-un-tag">Déplacer un tag</a></li>
<li class="toctree-l2"><a class="reference internal" href="#passer-temporairement-a-un-autre-commit">Passer temporairement à un autre commit</a></li>
<li class="toctree-l2"><a class="reference internal" href="#supprimer-definitivement-les-commits-non-publies">Supprimer définitivement les commits non publiés</a></li>
<li class="toctree-l2"><a class="reference internal" href="#undo-published-commits-with-new-commits-sorcellerie">Undo published commits with new commits (Sorcellerie)</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">AUTRES:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../schema/containers.html">Containers and Virtual Machine</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Poule-au-Pot</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Quelques petites commandes prêtes à l’emploi</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/boiteam/git.rst.txt" rel="nofollow"> Afficher la source de la page</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="quelques-petites-commandes-pretes-a-l-emploi">
<h1>Quelques petites commandes prêtes à l’emploi<a class="headerlink" href="#quelques-petites-commandes-pretes-a-l-emploi" title="Lien permanent vers ce titre"></a></h1>
<section id="deplacer-un-tag">
<h2>Déplacer un tag<a class="headerlink" href="#deplacer-un-tag" title="Lien permanent vers ce titre"></a></h2>
<p>Si durant un developpement un tag a été posé un peu précipitamment. Par exemple on découvre qu’il fallait synchroniser la version du tag avec la version du code dans un obscure CMakeFile (toute ressemblance avec un evenement existant est parfaitement fortuit).
Il faudra se munir du tag que l’on veut bouger (<code class="docutils literal notranslate"><span class="pre">&lt;tagname&gt;</span></code>) et le sha1 du commit que l’on veut tagger (<code class="docutils literal notranslate"><span class="pre">&lt;commit_sha1&gt;</span></code>).</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git tag -d &lt;tagname&gt;                  # delete the old tag locally</span>
<span class="go">git push origin :refs/tags/&lt;tagname&gt;  # delete the old tag remotely</span>
<span class="go">git tag &lt;tagname&gt; &lt;commit_sha1&gt;       # make a new tag locally</span>
<span class="go">git push origin &lt;tagname&gt;             # push the new local tag to the remote</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Les 3 paragraphes suivants sont des traductions des méthodes porposées par les utilisateurs StackOverflow Cascabel et Joel Hoisko.</p>
</div>
</section>
<section id="passer-temporairement-a-un-autre-commit">
<h2>Passer temporairement à un autre commit<a class="headerlink" href="#passer-temporairement-a-un-autre-commit" title="Lien permanent vers ce titre"></a></h2>
<p>Si on veut temporairement revenir en arrière, faire des folies, puis revenir là où vous êtes, tout ce que vous avez à faire est de vérifier le commit désiré :</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git checkout 0d1d7fc32 # This will detach your HEAD, leave you with no branch checked out</span>
</pre></div>
</div>
<p>Ou si on veut faire des commits pendant qu’on y est, go créer une nouvelle branche <cite>old-state</cite> par exemple :</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git checkout -b old-state 0d1d7fc32</span>
</pre></div>
</div>
</section>
<section id="supprimer-definitivement-les-commits-non-publies">
<h2>Supprimer définitivement les commits non publiés<a class="headerlink" href="#supprimer-definitivement-les-commits-non-publies" title="Lien permanent vers ce titre"></a></h2>
<p>Si, d’un autre côté, on veut vraiment se débarrasser de tout ce qu’on a fait depuis, il y a deux possibilités. La première, si aucun de ces commits n’a été publié, il suffit de réinitialiser :</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git reset --hard 0d1d7fc32      # This will destroy any local modifications.</span>
</pre></div>
</div>
<p>Autrement, si il y a du travail à conserver :</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">git stash                       # This saves the modifications.</span>
<span class="go">git reset --hard 0d1d7fc32</span>
<span class="go">git stash pop                   # Then reapplies that patch after resetting.</span>
</pre></div>
</div>
</section>
<section id="undo-published-commits-with-new-commits-sorcellerie">
<h2>Undo published commits with new commits (Sorcellerie)<a class="headerlink" href="#undo-published-commits-with-new-commits-sorcellerie" title="Lien permanent vers ce titre"></a></h2>
<p>On the other hand, if you’ve published the work, you probably don’t want to reset the branch, since that’s effectively rewriting history. In that case, you could indeed revert the commits. With Git, revert has a very specific meaning: create a commit with the reverse patch to cancel it out. This way you don’t rewrite any history.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>This will create three separate revert commits:
<span class="go">git revert a867b4af 25eee4ca 0766c053</span>

<span class="gp"># </span>It also takes ranges. This will revert the last two commits:
<span class="go">git revert HEAD~2..HEAD</span>

<span class="gp"># </span>Similarly, you can revert a range of commits using commit hashes <span class="o">(</span>non inclusive of first <span class="nb">hash</span><span class="o">)</span>:
<span class="go">git revert 0d1d7fc..a867b4a</span>

<span class="gp"># </span>Reverting a merge commit
<span class="go">git revert -m 1 &lt;merge_commit_sha&gt;</span>

<span class="gp"># </span>To get just one, you could use <span class="sb">`</span>rebase -i<span class="sb">`</span> to squash them afterwards
<span class="gp"># </span>Or, you could <span class="k">do</span> it manually <span class="o">(</span>be sure to <span class="k">do</span> this at top level of the repo<span class="o">)</span>
<span class="gp"># </span>get your index and work tree into the desired state, without changing HEAD:
<span class="go">git checkout 0d1d7fc32 .</span>

<span class="gp"># </span>Then commit. Be sure and write a good message describing what you just did
<span class="go">git commit</span>
</pre></div>
</div>
<p>The <cite>git-revert</cite> manpage actually covers a lot of this in its description. Another useful link is this git-scm.com section discussing git-revert.
If you decide you didn’t want to revert after all, you can revert the revert (as described here) or reset back to before the revert (see the previous section).</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Pied de page">
        <a href="../raspberry/nginx_server.html" class="btn btn-neutral float-left" title="Créer un serveur NGINX sur Raspberry pi" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Précédent</a>
        <a href="../schema/containers.html" class="btn btn-neutral float-right" title="Containers and Virtual Machine" accesskey="n" rel="next">Suivant <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Aurélien CARLE.</p>
  </div>

  Compilé avec <a href="https://www.sphinx-doc.org/">Sphinx</a> en utilisant un
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">thème</a>
    fourni par <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>